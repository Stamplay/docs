<h1 id="users">Users</h1>

<p>The base user data structure:</p>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>_id</td>
      <td>a unique identifier</td>
    </tr>
    <tr>
      <td>displayName</td>
      <td>the user's displayName</td>
    </tr>
    <tr>
      <td>name</td>
      <td>the user's name</td>
    </tr>
    <tr>
      <td>email</td>
      <td>the user's email</td>
    </tr>
    <tr>
      <td>identities</td>
      <td>an object that contains social informations provided by the third party authentication services</td>
    </tr>
    <tr>
      <td>dt_create</td>
      <td>a date that represent the user's signup date</td>
    </tr>
    <tr>
      <td>dt_update</td>
      <td>a date that represent the last time the user has been updated</td>
    </tr>
    <tr>
      <td>givenRole</td>
      <td>the role'sunique id</td>
    </tr>
  </tbody>
</table>

<p>The User data collection is schemaless, meaning that properties can be added on the go without adding them to a defined schema with specific property data types.</p>

<h2 id="local-authentication">Local Authentication</h2>

<p>A local authentication flow for login and signups is baked in to every Stamplay application.</p>

<h3 id="signup">Signup</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"POST"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/user/v1/users"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">user@stamplay.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">my_password</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">email</span> <span class="p">:</span> <span class="s2">"user@stamplay.com"</span><span class="p">,</span>
    <span class="na">password</span> <span class="p">:</span> <span class="s2">"my_password"</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">signup</span><span class="p">(</span><span class="nx">credentials</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error  </span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">email</span> <span class="p">:</span> <span class="s2">"user@stamplay.com"</span><span class="p">,</span>
    <span class="na">password</span> <span class="p">:</span> <span class="s2">"my_password"</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">save</span><span class="p">(</span><span class="nx">credentials</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// response</span>
  <span class="p">})</span>
</code></pre>

<p>Sign up a user for a local user account.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>email</code></td>
      <td>a valid email address</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
    <tr>
      <td><code>password</code></td>
      <td>user provided secret</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h3 id="login">Login</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"POST"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/local/login"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">user@stamplay.com</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">password</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">my_password</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">email</span> <span class="p">:</span> <span class="s2">"user@stamplay.com"</span><span class="p">,</span>
    <span class="na">password</span> <span class="p">:</span> <span class="s2">"my_password"</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="nx">credentials</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error  </span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user to a local account.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>email</code></td>
      <td>a valid email address</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
    <tr>
      <td><code>password</code></td>
      <td>user provided secret</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h2 id="social-authentication">Social Authentication</h2>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/:provider/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"provider"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Authentication via an array of different social provider is possibled by some minor configuration with the Stamplay editor, and a simple request to the Stamplay API.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>provider</code></td>
      <td>the slug identifier of the social provider</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h3 id="ionic-integration">Ionic Integration</h3>

<pre class="highlight shell-always"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s2">"APP-ID"</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">isMobile</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">absoluteUrl</span> <span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">autorefreshSocialLogin</span> <span class="p">:</span> <span class="kc">false</span>
  <span class="p">})</span>
</code></pre>

<p>Login users with social accounts inside an Ionic mobile application.</p>

<p>To use a social provider within an Ionic application, you must pass in an additonal options object in the <code>Stamplay.init</code> method when intializing the SDK.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>isMobile</code></td>
      <td>manages the login/signup behavior for hybrid environments like Ionic, if true opens auth dialog in new window.</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
    <tr>
      <td><code>absoluteUrl</code></td>
      <td>force the path to be absolute</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
    <tr>
      <td><code>autorefreshSocialLogin</code></td>
      <td>refresh application after a successful socialLogin</td>
      <td style="text-align: center"><i class="checked"></i></td>
    </tr>
  </tbody>
</table>

<h3 id="facebook">Facebook</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/facebook/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"facebook"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user with a Facebook account.</p>

<hr />

<p><strong>Create a Facebook App</strong></p>

<p>1.1. Go to Facebook developers.</p>

<p><strong>1.2.</strong> In the upper right corner, click on <strong>Add a New App</strong>.</p>

<p><strong>1.3.</strong> Choose the type of app you want to create.</p>

<p><strong>1.4.</strong> Name your Facebook App and select <strong>Create Facebook App Id</strong>.</p>

<p><strong>1.5.</strong> Skip the Quick Start by clicking on the button in the upper right corner.</p>

<hr />

<p><strong>Configure the Facebook App Settings</strong></p>

<p><strong>2.1.</strong> Click on <strong>Settings</strong> in the left menu.</p>

<p><strong>2.2.</strong> Click on <strong>+ Add Platform</strong>.</p>

<p><strong>2.3.</strong> Fill the <strong>Site Url</strong> field with your Stamplay domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.4.</strong> From the <strong>Settings</strong> view click on the <strong>Advanced</strong> tab and type in the <strong>OAuth Redirect URIs</strong> the following: <a href="https://[APP-ID].stamplayapp.com/auth/v1/facebook/callback">https://[APP-ID].stamplayapp.com/auth/v1/facebook/callback</a> and <a href="https://localhost:8080/auth/v1/facebook/callback">https://localhost:8080/auth/v1/facebook/callback</a> so that you can also test the signup flow locally when using Stamplay Command Line.</p>

<hr />

<p><strong>Add the Facebook Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <code>App Id</code> and <code>App Secret</code> from the Facebook App and add the values to the corresponding field inside the Stamplay editor in the <strong>Users</strong> - <strong>Authentication</strong> section.</p>

<p><strong>3.2.</strong> To test the social login integration, copy and paste this link with your <code>APP ID</code> into a browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/facebook/connect">https://[APP-ID].stamplayapp.com/auth/v1/facebook/connect</a>. After connecting your account, check the <strong>DATA</strong> section to inspect the new User record created.</p>

<p><strong>3.3.</strong> The steps covered in this guide are not enough to have a Facebook app approved for production. You need to provide other information and submit the app for review; the process can take many days to complete. Refer to Facebook documentation for more information.</p>

<p>Stamplay asks for the following permissions:</p>

<ul>
  <li><code>public_profile</code></li>
  <li><code>email</code></li>
  <li><code>user_friends</code></li>
</ul>

<p>We store data from <code>public_profile</code> and <code>email</code>. Refer to the Facebook documentation for more information.</p>

<h3 id="google">Google+</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/google/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"google"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user with a Google+ account.</p>

<hr />

<p><strong>Create a Google Client Id</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://code.google.com/apis/console">https://code.google.com/apis/console</a> and create an APIs project.</p>

<p><strong>1.2.</strong> Click on <strong>Credentials</strong> from the <strong>API &amp; Auth</strong> section of the left menu.</p>

<p><strong>1.3.</strong> Click on <strong>Create new Client Id</strong> button.</p>

<hr />

<p><strong>Configure the Client ID</strong></p>

<p><strong>2.1.</strong> Choose the type <strong>Web application</strong> and click on <strong>Configure Consent Screen</strong> button.</p>

<p><strong>2.2.</strong> Add the required information to the consent screen and save.</p>

<p><strong>2.3.</strong> Fill in the <strong>Authorized Javascripts Origins</strong> field with your Stamplay 
  domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.4.</strong> Fill in the <strong>Authorized Redirect URIs</strong> field with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/google/callback">https://[APP-ID].stamplayapp.com/auth/v1/google/callback</a>.</p>

<p><strong>2.5.</strong> Click on <strong>Create client ID</strong></p>

<hr />

<p><strong>Add the Google+ Integration To Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <strong>Client Id</strong> and <strong>Client Secret</strong> from the Google App and add the values to the Stamplay app.</p>

<p><strong>3.2.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/google/connect">https://[APP-ID].stamplayapp.com/auth/v1/google/connect</a>.</p>

<p><strong>3.3.</strong> Then click on <strong>Users</strong> in the left menu of the Editor to browse the data fetched.</p>

<p>Stamplay asks for the following permissions:</p>

<ul>
  <li><code>userinfo.profile</code></li>
  <li><code>userinfo.email</code></li>
</ul>

<p>Refer to the Google documentation for more information.</p>

<h3 id="twitter">Twitter</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/twitter/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"twitter"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user with a Twitter account.</p>

<hr />

<p><strong>Create a Twitter app</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://apps.twitter.com/app/new">https://apps.twitter.com/app/new</a> to create a new Twitter app.</p>

<hr />

<p><strong>Configure the app</strong></p>

<p><strong>2.1.</strong> Fill in name and description.</p>

<p><strong>2.2.</strong> Fill in the Website field with your Stamplay domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.3.</strong> Fill in the Authorized Redirect URIs field with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/twitter/callback">https://[APP-ID].stamplayapp.com/auth/v1/twitter/callback</a>. Create the Twitter application.</p>

<hr />

<p><strong>Add the Twitter Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Click on the <strong>Keys and Access Tokens</strong> tab.</p>

<p><strong>3.2.</strong> Copy the <strong>Consumer Key</strong> (API Key) and <strong>Consumer Secret</strong> (API Secret) from the Twitter app and add the values to the Stamplay app.</p>

<p><strong>3.3.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/twitter/connect">https://[APP-ID].stamplayapp.com/auth/v1/twitter/connect</a>. Then click on <strong>Users</strong> in the left menu of the editor to browse the data fetched.</p>

<p>Stamplay collects all profile data provided.</p>

<p>Twitter does not have scopes, and the user <code>email</code> is not provided. You must request access from Twitter, and be whitelisted to receive user emails.</p>

<p>Please refer to the Twitter documentation for more information.</p>

<h3 id="dropbox">Dropbox</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/dropbox/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"dropbox"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user with a Dropbox account.</p>

<hr />

<p><strong>Create a Drop API App</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://www.dropbox.com/developers/apps/create">https://www.dropbox.com/developers/apps/create</a>.</p>

<p><strong>1.2.</strong> Create a Dropbox API app.</p>

<p><strong>1.3.</strong> Choose the values you prefer for the data type and file the app can access (these options are not relevant for login). Name your app.</p>

<hr />

<p><strong>Configure The Dropbox App</strong></p>

<p><strong>2.1.</strong> Fill in the <strong>Redirect URIs</strong> field in the <strong>Oauth2</strong> section with the following value: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<hr />

<p><strong>Add the Dropbox Integration To Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <strong>App Key</strong> and <strong>App Secret</strong> from the Dropbox app and add the values to the Stamplay app.</p>

<p><strong>3.2.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/dropbox/connect">https://[APP-ID].stamplayapp.com/auth/v1/dropbox/connect</a>. Then click on “Users” in the left menu of the Editor to browse the data fetched.</p>

<p><strong>3.3.</strong> You have added Dropbox login to your Stamplay app, but be aware that you must provide Dropbox with a lot of other information to get their approval. Refer to the Dropbox documentation to learn how to have your Dropbox app approved for production. In the mean time, you can continue to develop and test the integration.</p>

<p>Stamplay collects the following data from Dropbox:</p>

<ul>
  <li><code>userinfo.profile</code></li>
</ul>

<p>Refer to the Dropbox documentation for more information.</p>

<h3 id="linkedin">Linkedin</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/linkedin/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"linkedin"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>Login a user with a LinkedIn account.</p>

<hr />

<p><strong>Create a LinkedIn app</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://www.linkedin.com/secure/developer">https://www.linkedin.com/secure/developer</a> and click on “Add a new application”.</p>

<hr />

<p><strong>Configure the app</strong></p>

<p><strong>2.1.</strong> Fill in all the required data.</p>

<p><strong>2.2.</strong> Fill in the OAuth <strong>redirect_uri</strong> field with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/linkedin/callback">https://[APP-ID].stamplayapp.com/auth/v1/linkedin/callback</a>.</p>

<p><strong>2.3.</strong> Click the “Add application” button.</p>

<hr />

<p><strong>Add the LinkedIn Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <strong>API Key</strong> and <strong>Secret Key</strong> from the LinkedIn app and add the values to the Stamplay app.</p>

<p><strong>3.2.</strong> Click on the “End” button.</p>

<p><strong>3.3.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/linkedin/connect">https://[APP-ID].stamplayapp.com/auth/v1/linkedin/connect</a>. Then click on <strong>Users</strong> in the left menu of the Editor to browse the data fetched.</p>

<p>Stamplay asks for the following permissions:</p>

<ul>
  <li><code>r_basicprofile</code></li>
  <li><code>r_emailaddress</code></li>
  <li><code>r_fullprofile</code></li>
</ul>

<p>We store only data from <code>r_basicprofile and r_emailaddress</code>.</p>

<p>Refer to the Linkedin documentation for more information.</p>

<h3 id="instagram">Instagram</h3>

<p>Login a user with a Instagram account.</p>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/instagram/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"instagram"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<hr />

<p><strong>Create an Instagram App</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://instagram.com/developer/clients/manage">https://instagram.com/developer/clients/manage</a>.</p>

<p><strong>1.2.</strong> Click on <strong>Manage Client</strong> in the menu bar.</p>

<p><strong>1.3.</strong> Click on <strong>Register a new Client ID</strong>.</p>

<hr />

<p><strong>Configure the App</strong></p>

<p><strong>2.1.</strong> Fill in the required fields.</p>

<p><strong>2.2.</strong> Fill in the <strong>Website</strong> field with your Stamplay domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.3.</strong> Fill in the OAuth <strong>redirect_uri</strong> field with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/instagram/callback">https://[APP-ID].stamplayapp.com/auth/v1/instagram/callback</a>.</p>

<hr />

<p><strong>Add the Instagram Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <strong>Client Id</strong> and <strong>Client Secret</strong> from the Instagram client and add the values to the Stamplay app.</p>

<p><strong>3.2.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/instagram/connect">https://[APP-ID].stamplayapp.com/auth/v1/instagram/connect</a>. Then click on <strong>Users</strong> in the left menu of the Editor to browse the data fetched.</p>

<p>Stamplay asks for the following permissions:</p>

<ul>
  <li><code>basic</code></li>
</ul>

<p>We store only data from <code>basic</code>.</p>

<p>Refer to the Instagram documentation for more information.</p>

<h3 id="github">Github</h3>

<p>Login a user with a Github account.</p>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/github/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"github"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<hr />

<p><strong>Create a Github App</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://github.com/settings/profile">https://github.com/settings/profile</a>.</p>

<p><strong>1.2</strong> Click on <strong>Applications</strong> in the left menu.</p>

<p><strong>1.3.</strong> Click on <strong>Register new application</strong> button.</p>

<hr />

<p><strong>Configure the app</strong></p>

<p><strong>2.1.</strong> Fill in all the required fields.</p>

<p><strong>2.2.</strong> Fill in the <strong>Homepage URL</strong> field with your Stamplay domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.3.</strong> Fill the <strong>Authorization Callback URL</strong> field with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/github/callback">https://[APP-ID].stamplayapp.com/auth/v1/github/callback</a>.</p>

<hr />

<p><strong>Add the Github Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Copy the <strong>Client ID</strong> and <strong>Client Secret</strong> from the Github app and add the values to the Stamplay app.</p>

<p><strong>3.2.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/github/connect">https://[APP-ID].stamplayapp.com/auth/v1/github/connect</a>. Then click on <strong>Users</strong> in the left menu of the Editor to browse the data fetched.</p>

<p>Stamplay requests access to public information. We store all public data.</p>

<p>Refer to the Github documentation for more information.</p>

<h3 id="angellist">Angellist</h3>

<p>Login a user with an Angellist account.</p>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/angellist/connect"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">login</span><span class="p">(</span><span class="s2">"angellist"</span><span class="p">)</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<hr />

<p><strong>Create an Angel List App</strong></p>

<p><strong>1.1.</strong> Go to <a href="https://angel.co/api/oauth/clients">https://angel.co/api/oauth/clients</a>.</p>

<hr />

<p><strong>Configure the App</strong></p>

<p><strong>2.1.</strong> Name your app.</p>

<p><strong>2.2.</strong> Fill in the <strong>Main URL</strong> field with your Stamplay domain: <a href="https://[APP-ID].stamplayapp.com">https://[APP-ID].stamplayapp.com</a> (and/or your custom domain if you have a paid plan).</p>

<p><strong>2.3.</strong> Fill in the field Callback URL with the following value: <a href="https://[APP-ID].stamplayapp.com/auth/v1/angellist/callback">https://[APP-ID].stamplayapp.com/auth/v1/angellist/callback</a>.</p>

<hr />

<p><strong>Add the Angellist Integration to Stamplay</strong></p>

<p><strong>3.1.</strong> Angel List will send you an email with the <strong>Client ID</strong> and <strong>Client Secret</strong>. Add these values to the Stamplay app.</p>

<p><strong>3.2.</strong> To quickly test the integration, copy and paste this link into your browser: <a href="https://[APP-ID].stamplayapp.com/auth/v1/angellist/connect">https://[APP-ID].stamplayapp.com/auth/v1/angellist/connect</a>. Then click on <strong>Users</strong> in the left menu of the Editor to browse the data fetched.</p>

<p>Stamplay requests permission to access the following:</p>

<ul>
  <li><code>default information</code></li>
  <li><code>email</code></li>
</ul>

<p>We store the default information data and email.</p>

<p>Refer to the Angel List documentation for more information.</p>

<h2 id="sessions">Sessions</h2>

<pre class="highlight shell-always"><code>  
  <span class="s2">"Authorization"</span> <span class="err">:</span> <span class="s2">"Basic c3RhbXBsYXlrYjo5MTRhMmUzMaMwZWRlMDdmZThhNjYzMzkxMWQyYWQyOTNkNjJkNTQ3OGFiYmViNjEyNzhhYjFjYzE2MDhiZaRi"</span>
</code></pre>

<pre class="highlight shell-always"><code>  <span class="s2">"x-stamplay-jwt"</span> <span class="err">:</span> <span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidXNlciIsImFwcERvbWFpbiI6InN0YW1wbGF5a2Iuc3RhbXBsYXlscHAuY29tIiwiYXBwSWQiOiJzdGFtcGxheWtiIiwidXNlciI6IjU2ZjAyZDY0NjFkNWI0MTA1ZDFhMjY4NCIsImlhdCI6MTQ1ODU4MTQwNiwiZXhwIjoxNDU5MTg2Mjc4fQ.UDFUe0Zb2ZHx3HXdiUXWnHSyKghVI_harpkkyC3BU8A"</span>
</code></pre>

<p>A session represents an instance of a user logged into a device within a Stamplay application. A session is automatically created when users log in or sign up.</p>

<p>By default user sessions last 7 days.</p>

<p>Stamplay manages session leveraging a <a href="https://jwt.io/">Token-Based Authentication</a> approach. This relies on a signed token that is sent to the server on each request. The implementation is done by generating a token when the user is authenticated and then setting that token in the <code>x-stamplay-jwt</code> header of each subsequent request to our back-end, or as part of the <code>Authorization</code> header from server to server requests.</p>

<p>If you use the <strong>Stamplay Javascript SDK</strong> you do not need to worry about this; but in the case you send request to our APIs without the SDK, this is something you need to be aware of.</p>

<p>If users log in or sign up using an external provider (e.g. <a href="#facebook">Facebook</a>, <a href="#linkedin">Linkedin</a>, <a href="#google+">Google</a>, etc.) the token issued by Stamplay will be available as a query param <code>?jwt</code>. Again, if you are using the SDK, you will not need to manage the token yourself.</p>

<p>If your app let users log in or sign up with the traditional email+password API, tokens will be in the <code>x-stamplay-jwt</code> header of the response.</p>

<p>To check whether or not the token is expired you can do the following:</p>

<ol>
  <li>Split the token in three parts using the <code>.</code> (dot) as the divider.</li>
  <li>Base64 decode of the second chunk.</li>
  <li>Check if the current date (in UNIX timestamp format) is between the "issued at time" date and "expiration" date to check that the token is still valid.</li>
</ol>

<h2 id="reset-password">Reset Password</h2>

<pre class="highlight shell"><code>  curl -X <span class="s2">"POST"</span> <span class="s2">"https://APP-ID.stamplayapp.com/api/user/v1/users/resetpassword "</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">user@stamplay.com</span><span class="se">\"</span><span class="s2">, </span><span class="se">\"</span><span class="s2">newPassword</span><span class="se">\"</span><span class="s2"> : </span><span class="se">\"</span><span class="s2">stamplay_rocks!</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">emailAndNewPass</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">email</span><span class="p">:</span> <span class="s2">"user@stamplay.com"</span><span class="p">,</span>
    <span class="na">newPassword</span><span class="p">:</span> <span class="s2">"stamplay_rocks!"</span>
  <span class="p">}</span>
  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">resetPassword</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">){</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<p>Reset a local user's account password.</p>

<p>Successful submission of a password reset request will send an email to the account holder's email address with a confirmation link that will set the password reset into affect.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>email</code></td>
      <td>valid email address associated with the account</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
    <tr>
      <td><code>newPassword</code></td>
      <td>new password for the account being reset</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h2 id="user-to-user-permissions">User to User Permissions</h2>

<p>Stamplay supports Role-Based Authorization schemes, on a per object level, and user to user level.</p>

<p>The Roles scheme can be configured with the <strong>Users</strong> section <strong>Roles</strong> section for the <strong>Role -&gt; Role</strong> permissions, and inside each <strong>Object</strong> model's view under the <strong>Permissions</strong> tab for each object individual schema.</p>

<p>For further detail, view the <a href="#roles">Roles documetation</a>.</p>

<h2 id="logging-out">Logging Out</h2>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APP-ID.stamplayapp.com/auth/v1/logout"</span> <span class="se">\</span>
  -H <span class="s2">"x-stamplay-jwt: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidXNlciIsImFwcERvbWFpbiI6InN0YW1wbGF5a2Iuc3RhbXBsYXlscHAuY29tIiwiYXBwSWQiOiJzdGFtcGxheWtiIiwidXNlciI6IjU2ZjAyZDY0NjFkNWI0MTA1ZDFhMjY4NCIsImlhdCI6MTQ1ODU4MTQwNiwiZXhwIjoxNDU5MTg2Mjc4fQ.UDFUe0Zb2ZHx3HXdiUXWnHSyKghVI_harpkkyC3BU8A"</span>

</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">logout</span><span class="p">();</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>To logout, and end a user session, send a request to the logout endpoint. The <code>x-stamplay-jwt</code> header must be included otherwise the session will not be ended.</p>

<p>The request response will redirect the application by default to the root of your application. This can be managed within the Stamplay editor in the <strong>User</strong> -&gt; <strong>Authentication</strong> section by select the settings icon.</p>

<h2 id="fetch-users">Fetch Users</h2>

<p>Retrieve an individual user, all users, or the current session user, or any users matching specific criteria.</p>

<h3 id="current-user">Current User</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/getstatus"</span> <span class="se">\</span>
  -H <span class="s2">"x-stamplay-jwt: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXBlIjoidXNlciIsImFwcERvbWFpbiI6InN0YW1wbGF5a2Iuc3RhbXBsYXlscHAuY29tIiwiYXBwSWQiOiJzdGFtcGxheWtiIiwidXNlciI6IjU2ZjAyZDY0NjFkNWI0MTA1ZDFhMjY4NCIsImlhdCI6MTQ1ODU4MTQwNiwiZXhwIjoxNDU5MTg2Mjc4fQ.UDFUe0Zb2ZHx3HXdiUXWnHSyKghVI_harpkkyC3BU8A"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">current</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="c1">// no method</span>
</code></pre>

<p>To fetch the user that is currently logged in, send a request to the <code>getStatus</code> endpoint, on the user API resource.</p>

<h3 id="fetch-user-by-id">Fetch User By Id</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users/:user_id"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">_id</span> <span class="p">:</span> <span class="s2">"user_id"</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">({</span> <span class="na">_id</span> <span class="p">:</span> <span class="s2">"user_id"</span> <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>

<p>To fetch an single user, send the <code>_id</code> of the user to fetch in the request body to the user API resource.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>user_id</code></td>
      <td>the Stamplay <code>_id</code> of the user to fetch</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h3 id="all-users">All Users</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">({})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">({},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>

<p>To retrieve all users, send a request without any parameters to match in the body, to the user API resource.</p>

<h3 id="query-users">Query Users</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">age</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">30</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">query</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="kd">var</span> <span class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>

<p>To retrieve all users that match a certain set of parameters, send a request with any parameters to match in the body, to the user API resource.</p>

<h2 id="update-user">Update User</h2>

<p>To update a user record partially, or completely overwrite the existing record.</p>

<h3 id="partial-user-update">Partial User Update</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users/:user_id"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">age</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">30</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">updatedInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="nx">updatedInfo</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="kd">var</span> <span class="nx">updatedInfo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="nx">updatedInfo</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>

<p>To partially update a User record, send a <code>PATCH</code> request with an properties to update in the request body, to the User API resource with the <code>_id</code> of the user to update.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>user_id</code></td>
      <td>the Stamplay <code>_id</code> of the user to update</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h3 id="complete-user-update">Complete User Update</h3>

<pre class="highlight shell"><code>  curl -X <span class="s2">"GET"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users/:user_id"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -d <span class="s2">"{</span><span class="se">\"</span><span class="s2">name</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">John</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">address</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">111 Market St. San Francisco, CA</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">age</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">30</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">_id</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">56fb116e5ab65a4446dd3b2d</span><span class="se">\"</span><span class="s2">}"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">_id</span> <span class="p">:</span> <span class="s2">"56fb116e5ab65a4446dd3b2d"</span><span class="p">,</span>
    <span class="na">address</span> <span class="p">:</span> <span class="s2">"111 Market St. San Francisco, CA"</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="nx">updatedInfo</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="kd">var</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">_id</span> <span class="p">:</span> <span class="s2">"56fb116e5ab65a4446dd3b2d"</span><span class="p">,</span>
    <span class="na">address</span> <span class="p">:</span> <span class="s2">"111 Market St. San Francisco, CA"</span>
    <span class="na">name</span> <span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="na">age</span> <span class="p">:</span> <span class="mi">30</span>
  <span class="p">}</span>

  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">user</span><span class="p">.</span><span class="nx">_id</span><span class="p">,</span> <span class="nx">updatedInfo</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>
<p>To completely update a user record, send a <code>PUT</code> request with a complete representation of the data to overwrite the existing record with.</p>

<p>Include this representation in the request body, in the request to the User API resource with the <code>_id</code> of the user to update.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>user_id</code></td>
      <td>the Stamplay <code>_id</code> of the user to update</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<h2 id="remove-user">Remove User</h2>

<pre class="highlight shell"><code>  curl -X <span class="s2">"DELETE"</span> <span class="s2">"https://APPID.stamplayapp.com/api/user/v1/users/:user_id"</span>
</code></pre>

<pre class="highlight javascript"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">"user_id"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// success</span>
    <span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// error</span>
    <span class="p">})</span>
</code></pre>

<pre class="highlight nodejs"><code>  <span class="nx">Stamplay</span><span class="p">.</span><span class="nx">User</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// success</span>
  <span class="p">})</span>
</code></pre>

<p>To remove a user record from the database, send a <code>DELETE</code> request to the user resource with the user <code>_id</code> to the User API resource.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th> </th>
      <th style="text-align: center">Optional</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>user_id</code></td>
      <td>the Stamplay <code>_id</code> of the user to delete</td>
      <td style="text-align: center"><i class="unchecked"></i></td>
    </tr>
  </tbody>
</table>

<!-- ## Activity -->

<!-- 
  Return the activities that user with the specified userId has done. Each activity is composed by a triple:

  activity: the name of the activity
  actor: the entity that has done the activity
  target: the entity on which the activity is done
 -->

<!-- ## Follower System
### Follow User
### Unfollow User
### Get Followers
### Get Following -->
